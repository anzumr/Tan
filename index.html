<!doctype html>
<html lang="en">
<head>
  <link rel="icon" type="image/x-icon" href="favicon.ico">
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>For Anika ‚ù§Ô∏è</title>

  <!-- Font -->
  <link href="https://fonts.googleapis.com/css2?family=SF+Pro+Display:wght@300;400;600&family=Inter:wght@300;400;600&display=swap" rel="stylesheet">

  <!-- Confetti library -->
  <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.9.2/dist/confetti.browser.min.js"></script>

  <style>
    :root {
      --pink1: #ff8cd6;
      --purple1: #b084f7;
      --accent: #ff5f8f;
      --card-bg: rgba(255,255,255,0.88);
      --rounded: 24px;
    }

    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      font-family: "Inter", system-ui, -apple-system, BlinkMacSystemFont;
      min-height: 100vh;
      margin: 0;
      background:
        linear-gradient(135deg, rgba(255,140,214,0.7), rgba(176,132,247,0.8)),
        url("peonies.jpg") center/cover fixed no-repeat;
      display: flex;
      align-items: center;
      justify-content: center;
      color: #111;
      /* we KEEP the normal cursor so you see arrow + fish */
    }

    /* Shared overlay style */
    .overlay {
      position: fixed;
      inset: 0;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 16px;
      z-index: 10;
    }

    /* ---------- TOP-RIGHT PHOTOS APP BUTTON ---------- */

    .top-right-photos-btn {
      position: fixed;
      top: 18px;
      right: 18px;
      display: none; /* hidden until unlocked + questions page */
      flex-direction: column;
      align-items: center;
      gap: 4px;
      cursor: pointer;
      z-index: 50;
      text-align: center;
      font-family: "SF Pro Display", system-ui, -apple-system, BlinkMacSystemFont, sans-serif;
      animation: jiggle 1.4s ease-in-out infinite;
      transform-origin: center;
    }

    .top-right-photos-btn.visible {
      display: flex; /* shown after JS adds .visible */
    }

    .photos-icon-wrapper {
      position: relative;
    }

    .top-right-photos-btn img {
      width: 52px;
      height: 52px;
      border-radius: 14px;
      box-shadow: 0 6px 14px rgba(0,0,0,0.18);
      display: block;
      transition: transform 0.2s ease;
    }

    .photos-label {
      font-size: 13px;
      font-weight: 600;
      color: #fdfdfd;
      text-shadow: 0 1px 3px rgba(0,0,0,0.45);
    }

    /* red badge: +X photos */
    .photos-badge {
      position: absolute;
      top: -6px;
      right: -6px;
      background: #ff3b30;
      color: #fff;
      min-width: 22px;
      height: 22px;
      border-radius: 999px;
      display: none; /* hidden if 0 */
      align-items: center;
      justify-content: center;
      font-size: 11px;
      font-weight: 700;
      box-shadow: 0 2px 6px rgba(0,0,0,0.35);
      padding: 0 6px;
      border: 1px solid #fff;
      animation: badgePulse 1.9s ease-in-out infinite;
    }

    /* bounce on hover */
    .top-right-photos-btn:hover img {
      transform: translateY(-4px) scale(1.06);
    }

    @keyframes jiggle {
      0%, 100% { transform: rotate(0deg); }
      25% { transform: rotate(1.2deg); }
      50% { transform: rotate(-1.2deg); }
      75% { transform: rotate(0.8deg); }
    }

    @keyframes badgePulse {
      0%, 100% { transform: scale(1); }
      40% { transform: scale(1.12); }
      70% { transform: scale(0.98); }
    }

    /* ---------------- LOCK SCREEN (iPhone style) ---------------- */

    #lockScreen {
      backdrop-filter: blur(15px);
      background:
        linear-gradient(180deg, rgba(0,0,0,0.55), rgba(0,0,0,0.8)),
        url("peonies.jpg") center/cover no-repeat;
      color: #fff;
      flex-direction: column;
      justify-content: space-between;
      padding: 32px 16px 40px;
      font-family: "SF Pro Display", system-ui;
    }

    .lock-content {
      width: 100%;
      max-width: 420px;
      margin: 0 auto;
      display: flex;
      flex-direction: column;
      height: 100%;
      justify-content: space-between;
      align-items: center;
    }

    .lock-top {
      text-align: center;
      margin-top: 40px;
    }

    .lock-time {
      font-size: 64px;
      line-height: 1;
      font-weight: 300;
      letter-spacing: 2px;
    }

    .lock-ampm {
      font-size: 18px;
      margin-left: 4px;
      vertical-align: top;
    }

    .lock-date {
      margin-top: 6px;
      font-size: 16px;
      opacity: 0.85;
    }

    .lock-widgets {
      margin-top: 40px;
      width: 100%;
      display: flex;
      gap: 12px;
      justify-content: center;
      font-size: 13px;
    }

    .widget {
      flex: 1;
      min-width: 0;
      padding: 10px 12px;
      border-radius: 14px;
      background: rgba(0,0,0,0.35);
      border: 1px solid rgba(255,255,255,0.18);
      display: flex;
      flex-direction: column;
      gap: 4px;
      text-align: left;
    }

    .widget-title {
      font-size: 11px;
      text-transform: uppercase;
      letter-spacing: 0.06em;
      opacity: 0.8;
    }

    .widget-main {
      font-size: 13px;
      font-weight: 500;
    }

    .widget-sub {
      font-size: 11px;
      opacity: 0.9;
    }

    .lock-bottom-text {
      text-align: center;
      font-size: 14px;
      opacity: 0.9;
      margin-bottom: 6px;
    }

    .lock-home-indicator {
      width: 120px;
      height: 4px;
      border-radius: 999px;
      background: rgba(255,255,255,0.85);
    }

    /* -------- PASSWORD SCREEN -------- */

    #passwordPage {
      display: none;
      backdrop-filter: blur(12px);
      background: rgba(0,0,0,0.65);
      color: #fff;
      flex-direction: column;
      text-align: center;
    }

    .pw-card {
      background: rgba(0,0,0,0.55);
      padding: 24px 20px;
      border-radius: 20px;
      max-width: 340px;
      width: 100%;
      border: 1px solid rgba(255,255,255,0.16);
    }

    .pw-title {
      font-size: 20px;
      margin-bottom: 6px;
    }

    .pw-sub {
      font-size: 13px;
      opacity: 0.9;
      margin-bottom: 16px;
    }

    .pw-input {
      width: 100%;
      padding: 12px;
      border-radius: 12px;
      border: 1px solid rgba(255,255,255,0.6);
      background: rgba(0,0,0,0.4);
      color: #fff;
      font-size: 18px;
      text-align: center;
      margin-bottom: 12px;
    }

    .pw-button {
      width: 100%;
      padding: 10px 16px;
      border-radius: 999px;
      border: none;
      background: linear-gradient(90deg, var(--pink1), var(--purple1));
      color: #fff;
      font-size: 15px;
      cursor: pointer;
      font-weight: 500;
    }

    .pw-error {
      margin-top: 8px;
      font-size: 12px;
      color: #ffd0d0;
      min-height: 16px;
    }

    /* -------- LOVE LETTER SCREEN -------- */

    #loveLetter {
      display: none;
      backdrop-filter: blur(14px);
      background: rgba(0,0,0,0.35);
      color: #111;
    }

    .letter-card {
      max-width: 640px;
      width: 100%;
      padding: 26px 22px 24px;
      background: var(--card-bg);
      border-radius: 24px;
      box-shadow: 0 16px 40px rgba(0,0,0,0.18);
      animation: fadeIn 0.9s ease;
    }

    .letter-card h2 {
      font-size: 22px;
      margin-bottom: 12px;
    }

    .letter-card p {
      font-size: 15px;
      line-height: 1.5;
      margin-bottom: 10px;
    }

    #continueBtn {
      margin-top: 10px;
      padding: 11px 16px;
      border-radius: 999px;
      border: none;
      background: var(--accent);
      color: #fff;
      font-size: 15px;
      cursor: pointer;
    }

    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(10px); }
      to   { opacity: 1; transform: translateY(0); }
    }

    /* -------- SURVEY PAGE -------- */

    #surveyPage {
      position: relative;
      width: 100%;
      max-width: 840px;
      margin: 24px auto;
      padding: 16px;
      z-index: 1;
    }

    .survey-card {
      background: var(--card-bg);
      border-radius: var(--rounded);
      box-shadow: 0 16px 40px rgba(0,0,0,0.18);
      padding: 22px 18px 24px;
      max-height: 90vh;
      overflow-y: auto;
    }

    .survey-header {
      text-align: center;
      margin-bottom: 16px;
    }

    .survey-header h1 {
      font-size: 22px;
      margin-bottom: 4px;
    }

    .survey-header p {
      font-size: 14px;
      color: #555;
    }

    .photo-holder {
      width: 100%;
      display: flex;
      justify-content: center;
      margin-bottom: 12px;
    }

    #couplePhoto {
      width: 160px;
      height: 160px;
      border-radius: 40px;
      object-fit: cover;
      box-shadow: 0 10px 26px rgba(0,0,0,0.28);
      border: 4px solid #fff;
    }

    form {
      display: flex;
      flex-direction: column;
      gap: 18px;
      font-size: 14px;
    }

    .q {
      display: flex;
      flex-direction: column;
      align-items: flex-start;
      gap: 8px;
      width: 100%;
    }

    label {
      font-weight: 600;
    }

    /* iOS-style inputs & textareas */
    textarea,
    input[type="text"],
    select {
      width: 100%;
      padding: 11px 12px;
      border-radius: 16px;
      border: 1px solid #ffd0e8;
      font-size: 14px;
      background: rgba(255,255,255,0.95);
      box-shadow: 0 4px 10px rgba(0,0,0,0.03);
      transition: border-color 0.2s ease, box-shadow 0.2s ease, transform 0.15s ease;
    }

    textarea {
      min-height: 70px;
      resize: vertical;
    }

    textarea:focus,
    input[type="text"]:focus,
    select:focus {
      outline: none;
      border-color: var(--pink1);
      box-shadow: 0 0 0 1px rgba(255,140,214,0.4);
      transform: translateY(-1px);
    }

    .small {
      font-size: 12px;
      color: #777;
    }

    /* sliders */

    .slider-row {
      display: flex;
      flex-direction: column;
      gap: 6px;
      width: 100%;
    }

    input[type="range"] {
      width: 100%;
      -webkit-appearance: none;
      appearance: none;
      height: 6px;
      border-radius: 999px;
      background: linear-gradient(90deg, #ff758f, #f9ca24, #6ee7b7);
      outline: none;
    }

    input[type="range"]::-webkit-slider-thumb {
      -webkit-appearance: none;
      appearance: none;
      width: 20px;
      height: 20px;
      border-radius: 50%;
      background: #fff;
      border: 2px solid #ff6b9a;
      box-shadow: 0 0 6px rgba(0,0,0,0.35);
      cursor: pointer;
    }

    .slider-label {
      font-size: 13px;
      color: #555;
    }

    .chip-list {
      display: flex;
      flex-wrap: wrap;
      gap: 6px;
      margin-top: 4px;
    }

    .chip {
      display: inline-flex;
      align-items: center;
      gap: 4px;
      padding: 6px 10px;
      border-radius: 999px;
      border: 1px solid #ccc;
      font-size: 12px;
      background: #fff;
      cursor: pointer;
    }

    .chip input {
      margin: 0;
    }

    .hidden {
      display: none;
    }

    /* Follow-up boxes under the question, with fade-in */

    .followup-box {
      width: 100%;
      display: none;
      opacity: 0;
      transform: translateY(4px);
      transition: opacity 0.25s ease, transform 0.25s ease;
      margin-top: 6px;
    }

    .followup-box.show {
      display: block;
      opacity: 1;
      transform: translateY(0);
    }

    .followup-box textarea {
      margin-top: 6px;
    }

    /* submit button */

    #submitBtn {
      width: 100%;
      margin-top: 4px;
      padding: 13px 16px;
      border-radius: 999px;
      border: none;
      font-size: 16px;
      color: #fff;
      cursor: pointer;
      background: linear-gradient(90deg, #ff008c, #ffcd00, #00eaff, #c34dff);
      background-size: 400% 400%;
      animation: rainbow 7s linear infinite;
      box-shadow: 0 10px 26px rgba(0,0,0,0.20);
    }

    @keyframes rainbow {
      0% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }

    /* Congrats overlay for eating */

    #fullCongrats {
      position: fixed;
      inset: 0;
      z-index: 20;
      background: rgba(0,0,0,0.55);
      display: none;
      align-items: center;
      justify-content: center;
      padding: 16px;
    }

    .congrats-card {
      background: #fff;
      padding: 20px 20px 18px;
      border-radius: 20px;
      max-width: 340px;
      text-align: center;
      box-shadow: 0 14px 34px rgba(0,0,0,0.25);
    }

    .congrats-card h3 {
      font-size: 20px;
      margin-bottom: 8px;
    }

    .congrats-card p {
      font-size: 14px;
      margin-bottom: 12px;
    }

    #closeCongrats {
      padding: 8px 14px;
      border-radius: 999px;
      border: none;
      background: var(--accent);
      color: #fff;
      cursor: pointer;
      font-size: 14px;
    }

    /* -------- BETTA FISH CURSOR -------- */

    .betta-cursor {
      position: fixed;
      left: 0;
      top: 0;
      width: 80px;
      height: auto;
      pointer-events: none;
      z-index: 9999;
      filter: drop-shadow(0 0 10px rgba(255, 0, 80, 0.6));
      transition: transform 0.1s linear, filter 0.2s ease;
    }

    .betta-cursor.excited {
      filter: drop-shadow(0 0 16px rgba(255, 0, 140, 0.95));
    }

    /* -------- iOS MESSAGE / WEATHER / LAW TIPS NOTIFICATIONS -------- */

    .ios-notification {
      width: 100%;
      max-width: 360px;
      margin: 18px auto 0;
      padding: 10px 12px;
      border-radius: 18px;
      background: rgba(40, 40, 40, 0.95);
      border: 1px solid rgba(255,255,255,0.18);
      display: flex;
      gap: 10px;
      align-items: flex-start;
      color: #fff;
      box-shadow: 0 10px 25px rgba(0,0,0,0.45);
      font-family: "SF Pro Display", system-ui, -apple-system, BlinkMacSystemFont, sans-serif;
      font-size: 13px;

      opacity: 0;
      transform: translateY(-14px);
    }

    .ios-notification.show {
      animation: notifSlideIn 0.45s ease-out forwards;
    }

    #weatherNotification {
      margin-top: 10px;
    }

    @keyframes notifSlideIn {
      0% {
        opacity: 0;
        transform: translateY(-14px);
      }
      60% {
        opacity: 1;
        transform: translateY(2px);
      }
      100% {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .notif-icon {
      width: 32px;
      height: 32px;
      border-radius: 10px;
      background: linear-gradient(135deg, #29d34c, #1aa733);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 18px;
    }

    .notif-content {
      flex: 1;
      display: flex;
      flex-direction: column;
      gap: 2px;
    }

    .notif-header {
      display: flex;
      justify-content: space-between;
      font-size: 11px;
      opacity: 0.8;
    }

    .notif-app {
      font-weight: 600;
    }

    .notif-from {
      font-size: 14px;
      font-weight: 600;
    }

    .notif-text {
      font-size: 13px;
      line-height: 1.3;
    }

    /* -------- LOVE COUNTER INSIDE CARD -------- */

    .love-counter-inside {
      width: 100%;
      display: flex;
      justify-content: flex-start;
      margin-bottom: 10px;
    }

    .love-counter {
      background: linear-gradient(135deg, #ffb6e6, #ffd9ff);
      border-radius: 16px;
      padding: 8px 12px;
      display: flex;
      align-items: center;
      gap: 8px;
      box-shadow: 0 8px 18px rgba(0,0,0,0.12);
      border: 1px solid rgba(255,255,255,0.7);
      backdrop-filter: blur(12px);
      animation: floaty 3s ease-in-out infinite;
      font-size: 12px;
    }

    .love-heart {
      width: 30px;
      height: 30px;
      border-radius: 999px;
      background: radial-gradient(circle at 30% 30%, #fff, #ff8fd1);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 18px;
    }

    .love-counter-text {
      display: flex;
      flex-direction: column;
      gap: 2px;
    }

    .love-counter-title {
      font-weight: 600;
      font-size: 0.85rem;
      color: #8a145a;
    }

    .love-counter-values {
      display: flex;
      flex-wrap: wrap;
      gap: 3px 6px;
    }

    .love-chip {
      background: rgba(255,255,255,0.85);
      border-radius: 999px;
      padding: 1px 6px;
      display: inline-flex;
      align-items: center;
      font-size: 0.7rem;
      box-shadow: 0 3px 8px rgba(0,0,0,0.08);
    }

    .love-chip .value {
      font-weight: 600;
      margin-right: 2px;
    }

    @keyframes floaty {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(-3px); }
    }

    /* -------- üêπ HAMSTER PET (BOTTOM OF QUESTIONS PAGE) -------- */

    .hamster-pet {
      margin-top: 2rem;
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 0.35rem;
      z-index: 1;
      font-family: "SF Pro Display", -apple-system, BlinkMacSystemFont, system-ui, sans-serif;
      -webkit-tap-highlight-color: transparent;
    }

    .hamster-pet * {
      -webkit-tap-highlight-color: transparent;
      outline: none;
    }

    .hamster-body {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: flex-end;
      padding: 0;
      border-radius: 16px;
      background: transparent;
      box-shadow: none;
      position: relative;
      transform-origin: center bottom;
      cursor: pointer;
      user-select: none;
      -webkit-user-select: none;
    }

    .hamster-face {
      font-size: 46px;
      line-height: 1;
    }

    .hamster-emote {
      position: absolute;
      top: -8px;
      right: -10px;
      font-size: 20px;
      opacity: 0;
      transform: translateY(6px);
      pointer-events: none;
      transition: opacity 0.2s ease, transform 0.2s ease;
    }

    .hamster-emote.show {
      opacity: 1;
      transform: translateY(-4px);
    }

    .hamster-stats {
      font-size: 0.75rem;
      padding: 3px 10px;
      border-radius: 999px;
      background: rgba(255, 255, 255, 0.9);
      backdrop-filter: blur(10px);
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.12);
      user-select: none;
      -webkit-user-select: none;
    }

    .hamster-items {
      display: flex;
      gap: 0.4rem;
      margin-top: 2px;
      user-select: none;
      -webkit-user-select: none;
    }

    .hamster-item {
      width: 28px;
      height: 28px;
      border-radius: 999px;
      background: rgba(255, 255, 255, 0.95);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 18px;
      box-shadow: 0 4px 10px rgba(0, 0, 0, 0.12);
      cursor: grab;
      user-select: none;
      -webkit-user-select: none;
    }

    .hamster-item:active {
      cursor: grabbing;
    }

    .hamster-name-row {
      display: flex;
      align-items: center;
      gap: 6px;
      margin-top: 4px;
      font-size: 0.75rem;
    }

    .hamster-name-label {
      opacity: 0.85;
    }

    .hamster-name-input {
      border-radius: 999px;
      border: 1px solid #ffd0e8;
      padding: 3px 8px;
      font-size: 0.75rem;
      background: rgba(255,255,255,0.95);
      min-width: 80px;
    }

    .hamster-status {
      margin-top: 3px;
      font-size: 0.75rem;
      padding: 3px 10px;
      border-radius: 999px;
      background: rgba(255, 255, 255, 0.9);
      backdrop-filter: blur(10px);
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.12);
      user-select: none;
      -webkit-user-select: none;
    }

    /* Animation classes */
    .hamster-body.idle {
      animation: hamsterIdle 3s ease-in-out infinite;
    }

    .hamster-body.happy {
      animation: hamsterHappyHop 0.35s ease-in-out 3;
    }

    .hamster-body.spin {
      animation: hamsterSpin 0.5s linear 1;
    }

    .hamster-body.sleep {
      animation: hamsterSleep 4s ease-in-out infinite;
      filter: brightness(0.9);
    }

    .hamster-body.run {
      animation: hamsterRunAcross 0.9s ease-out;
    }

    @keyframes hamsterIdle {
      0% { transform: translateY(0) rotate(0deg); }
      25% { transform: translateY(-2px) rotate(-2deg); }
      50% { transform: translateY(0) rotate(0deg); }
      75% { transform: translateY(-2px) rotate(2deg); }
      100% { transform: translateY(0) rotate(0deg); }
    }

    @keyframes hamsterHappyHop {
      0% { transform: translateY(0) scale(1); }
      30% { transform: translateY(-10px) scale(1.05); }
      60% { transform: translateY(3px) scale(0.97); }
      100% { transform: translateY(0) scale(1); }
    }

    @keyframes hamsterSpin {
      0% { transform: rotate(0deg) scale(1); }
      40% { transform: rotate(200deg) scale(1.05); }
      100% { transform: rotate(360deg) scale(1); }
    }

    @keyframes hamsterSleep {
      0% { transform: translateY(0) scale(1); }
      50% { transform: translateY(2px) scale(0.96); }
      100% { transform: translateY(0) scale(1); }
    }

    @keyframes hamsterRunAcross {
      0% { transform: translateX(0) translateY(0); }
      100% { transform: translateX(60px) translateY(-4px); }
    }

    /* small screens */

    @media (max-width: 480px) {
      .lock-time { font-size: 52px; }
      .lock-widgets { flex-direction: column; }
      .survey-card { padding: 20px 14px 22px; }
      .top-right-photos-btn {
        top: 12px;
        right: 12px;
      }
    }
  </style>
</head>
<body>

  <!-- PHOTOS APP BUTTON (TOP RIGHT, HIDDEN UNTIL UNLOCKED QUESTIONS PAGE) -->
  <div class="top-right-photos-btn" onclick="location.href='photos.html'">
    <div class="photos-icon-wrapper">
      <img src="photos-app-icon.png" alt="Photos app">
      <span class="photos-badge">+0</span>
    </div>
    <span class="photos-label">Photos</span>
  </div>

  <!-- BETTA FISH CURSOR IMAGE -->
  <img id="bettaCursor" class="betta-cursor" src="betta-fish.png" alt="Red betta fish cursor" />

  <!-- iPhone-style LOCK SCREEN -->
  <div id="lockScreen" class="overlay">
    <div class="lock-content">
      <div class="lock-top">
        <div class="lock-time">
          <span id="lockTime">9:41</span>
          <span id="lockAmPm" class="lock-ampm">PM</span>
        </div>
        <div id="lockDate" class="lock-date">Tuesday, September 17</div>

        <div class="lock-widgets">
          <div class="widget">
            <div class="widget-title">Weather</div>
            <div id="weatherMain" class="widget-main">Loading...</div>
            <div id="weatherSub" class="widget-sub"></div>
          </div>
          <div class="widget">
            <div class="widget-title">Virgo Horoscope</div>
            <div id="horoscopeMain" class="widget-main">Soft focus on the details today.</div>
            <div id="horoscopeSub" class="widget-sub">You deserve gentleness, especially from yourself.</div>
          </div>
        </div>

        <!-- iMessage-style notification from Anzum -->
        <div class="ios-notification" id="iosNotification">
          <div class="notif-icon">üí¨</div>
          <div class="notif-content">
            <div class="notif-header">
              <span class="notif-app">Messages</span>
              <span class="notif-time">now</span>
            </div>
            <div class="notif-from">Anzum üßîüèΩ‚Äç‚ôÇÔ∏èüíï</div>
            <div class="notif-text" id="notifMessage">
              ‚ÄúGood morning baby girl‚òÄÔ∏è Hope you have a great day my love. Good luck on your final! I know your going to do amazing ‚Äù
            </div>
          </div>
        </div>

        <!-- Weather app outfit notification -->
        <div class="ios-notification" id="weatherNotification">
          <div class="notif-icon" id="weatherNotifIcon">üå§Ô∏è</div>
          <div class="notif-content">
            <div class="notif-header">
              <span class="notif-app">Weather</span>
              <span class="notif-time">today</span>
            </div>
            <div class="notif-from">Outfit check</div>
            <div class="notif-text" id="weatherNotifText">
              Checking your sky so I can dress you properly‚Ä¶ üí≠
            </div>
          </div>
        </div>

        <!-- ‚öñÔ∏è Law school tips notification -->
        <div class="ios-notification" id="lawTipsNotification">
          <div class="notif-icon">‚öñÔ∏è</div>
          <div class="notif-content">
            <div class="notif-header">
              <span class="notif-app">Law Finals</span>
              <span class="notif-time">today</span>
            </div>
            <div class="notif-from">Study tip</div>
            <div class="notif-text">
              Local Law 11 = facade safety inspections on tall NYC buildings.  
              Lien Law 36 = owner can demand list of subs/suppliers.  
              Lien Law 38 = contractor must give that list (‚Äúbooks‚Äù) so payments are protected.
            </div>
          </div>
        </div>

      </div>

      <div>
        <div class="lock-bottom-text">Tap to unlock</div>
        <div class="lock-home-indicator"></div>
      </div>
    </div>
  </div>

  <!-- PASSWORD PAGE -->
  <div id="passwordPage" class="overlay">
    <div class="pw-card">
      <div class="pw-title">Enter Passcode</div>
      <div class="pw-sub">Yes, you‚Äôre the only one who gets this üíó</div>
      <input id="pwInput" class="pw-input" type="password" maxlength="8" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢" />
      <button id="pwBtn" class="pw-button">Continue</button>
      <div id="pwError" class="pw-error"></div>
      <div style="margin-top:10px;font-size:12px;opacity:0.9;">(I‚Äôll tell you the password ü´∂)</div>
    </div>
  </div>

  <!-- LOVE LETTER PAGE -->
  <div id="loveLetter" class="overlay">
    <div class="letter-card">
      <h2>My little love letter to you üíå</h2>
      <p>
        Anika, every single day you somehow manage to be the softest part of my life.
        Before you answer anything, I just want you to know this:
        you matter to me more than I ever know how to explain in words.
      </p>
      <p>
        This page is just for you ‚Äî for your thoughts, your moods, your cravings,
        your good days and your rough ones. Thank you for trusting me with all of it.
      </p>
      <p>
        Whenever you fill this out, it‚Äôs my little window into how you‚Äôre feeling,
        and I promise I‚Äôll always use it to show up better for you. üíó
      </p>
      <button id="continueBtn">Okay, take me to the questions</button>
    </div>
  </div>

  <!-- CONGRATS OVERLAY WHEN FULL / 7‚Äì10 HUNGER -->
  <div id="fullCongrats">
    <div class="congrats-card">
      <h3>Yay, you ate! ü•∞</h3>
      <p>I‚Äôm so proud of you for taking care of yourself and your little tummy.</p>
      <button id="closeCongrats">Aww, thank you üíó</button>
    </div>
  </div>

  <!-- SURVEY PAGE -->
  <div id="surveyPage">
    <div id="questions"></div>

    <div class="survey-card">

      <div class="love-counter-inside">
        <div class="love-counter">
          <div class="love-heart">üíï</div>
          <div class="love-counter-text">
            <div class="love-counter-title">Time since I met you ü´∂</div>
            <div class="love-counter-values">
              <div class="love-chip">
                <span class="value" id="years">0</span><span class="label">yrs</span>
              </div>
              <div class="love-chip">
                <span class="value" id="months">0</span><span class="label">mos</span>
              </div>
              <div class="love-chip">
                <span class="value" id="days">0</span><span class="label">days</span>
              </div>
              <div class="love-chip">
                <span class="value" id="hours">0</span><span class="label">hrs</span>
              </div>
              <div class="love-chip">
                <span class="value" id="minutes">0</span><span class="label">mins</span>
              </div>
              <div class="love-chip">
                <span class="value" id="seconds">0</span><span class="label">secs</span>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="photo-holder">
        <img id="couplePhoto" src="couple.jpg" alt="Us üíï">
      </div>

      <div class="survey-header">
        <h1>Questions for Anika üíó</h1>
        <p>Answer whenever you feel like it ‚Äî it all goes straight to me.</p>
      </div>

      <form action="https://formspree.io/f/mgvbqbal" method="POST">

        <!-- 1. DAY SLIDER -->
        <div class="q">
          <label>1. How is your day going? ‚ú®</label>
          <div class="slider-row">
            <input id="daySlider" type="range" min="0" max="10" value="5" name="day_score">
            <div class="slider-label">
              <span id="dayLabel">5</span>/10 ‚Äî 0 = really rough, 10 = amazing
            </div>
          </div>

          <div id="dayBadFollowup" class="small followup-box">
            What‚Äôs wrong? (You can pick more than one)
            <div class="chip-list" style="margin-top:6px;">
              <label class="chip"><input type="checkbox" name="day_bad_reasons[]" value="overstimulated"> Overstimulated</label>
              <label class="chip"><input type="checkbox" name="day_bad_reasons[]" value="hungry"> Hungry</label>
              <label class="chip"><input type="checkbox" name="day_bad_reasons[]" value="tired"> Tired</label>
              <label class="chip"><input type="checkbox" name="day_bad_reasons[]" value="tummy"> Tummy</label>
              <label class="chip"><input type="checkbox" name="day_bad_reasons[]" value="road rage"> Road Rage</label>
              <label class="chip"><input type="checkbox" name="day_bad_reasons[]" value="mother"> Mother</label>
              <label class="chip"><input type="checkbox" name="day_bad_reasons[]" value="father"> Father</label>
              <label class="chip"><input type="checkbox" name="day_bad_reasons[]" value="brother"> Brother</label>
              <label class="chip"><input type="checkbox" name="day_bad_reasons[]" value="annoying person"> Annoying person</label>
              <label class="chip"><input type="checkbox" name="day_bad_reasons[]" value="anzum"> Anzum</label>
            </div>
          </div>

          <div id="dayGoodFollowup" class="small followup-box">
            Your day sounds pretty good üòå What‚Äôs so good about it?
            <textarea name="day_good_why"></textarea>
          </div>
        </div>

        <!-- 2. HUNGER SLIDER -->
        <div class="q">
          <label>2. Hunger check üçΩÔ∏è</label>
          <div class="slider-row">
            <input id="hungerSlider" type="range" min="0" max="10" value="5" name="hunger_level">
            <div class="slider-label">
              <span id="hungerLabel">5</span>/10 ‚Äî 0 = starving, 10 = full
            </div>
          </div>

          <div id="hungerHungryFollowup" class="small followup-box">
            You‚Äôre hungry üò≠ What are you in the mood to eat / craving?
            <textarea name="hunger_craving"></textarea>
          </div>
        </div>

        <!-- 3. TREATMENT SLIDER -->
        <div class="q">
          <label>3. How have I treated you today? üíï</label>
          <div class="slider-row">
            <input id="treatSlider" type="range" min="0" max="10" value="7" name="treated_rating">
            <div class="slider-label">
              <span id="treatLabel">7</span>/10 ‚Äî 0 = bad, 10 = perfect
            </div>
          </div>

          <div id="treatFollowup" class="small followup-box">
            What can I do to treat you better?
            <textarea name="treated_feedback" placeholder="Tell me so I can improve üíó"></textarea>
          </div>
        </div>

        <!-- 4. Improve your day -->
        <div class="q">
          <label>4. What‚Äôs something small that would make your evening sweeter right now? üåô</label>
          <textarea name="best_part"></textarea>
        </div>

        <!-- 5. Something to do together soon -->
        <div class="q">
          <label>5. Something you‚Äôd like us to do together soon? üöóüçø</label>
          <input type="text" name="plans" placeholder="Picnic, drive, movie night, etc." />
        </div>

        <!-- 6. Music -->
        <div class="q">
          <label>6. What is today's anthem or song of the day? üéß</label>
          <textarea name="feel_loved"></textarea>
        </div>

        <!-- 7. Extra thoughts -->
        <div class="q">
          <label>7. Anything you want to tell me or get off your mind? üß†</label>
          <textarea name="extra"></textarea>
        </div>

        <div style="display:none;">
          <label>Leave this blank</label>
          <input name="phone_number">
        </div>

        <button id="submitBtn" type="submit">Send to me ‚ù§Ô∏è</button>

      </form>

      <!-- üêπ Full-body hamster at bottom of questions page -->
      <div class="hamster-pet">
        <div class="hamster-body idle" id="hamster">
          <div class="hamster-face">üêπ</div>
          <div class="hamster-emote" id="hamsterEmote">‚ô°</div>
        </div>
        <div class="hamster-stats">
          Pets for <span id="hamsterNameDisplay">your hamster</span>: <span id="hamsterPetCount">0</span>
        </div>
        <div class="hamster-items">
          <div class="hamster-item food" draggable="true" data-item="food" title="Drag me to feed!">üçì</div>
          <div class="hamster-item water" draggable="true" data-item="water" title="Drag me to give water!">üíß</div>
        </div>
        <div class="hamster-name-row">
          <span class="hamster-name-label">Name your hamster:</span>
          <input id="hamsterNameInput" class="hamster-name-input" type="text" maxlength="18" />
        </div>
        <div class="hamster-status">
          Mood: <span id="hamsterMood">Chilling</span>
        </div>
      </div>

    </div>
  </div>

  <script>
    // ------- BASIC DOM REFERENCES -------

    const lockScreen   = document.getElementById("lockScreen");
    const passwordPage = document.getElementById("passwordPage");
    const loveLetter   = document.getElementById("loveLetter");
    const surveyPage   = document.getElementById("surveyPage");
    const bettaCursor  = document.getElementById("bettaCursor");
    const photosButton = document.querySelector(".top-right-photos-btn");

    // ------- UPDATE PHOTOS BADGE FROM STORED COUNT -------

    function updatePhotosBadgeFromStorage() {
      const badge = document.querySelector(".photos-badge");
      if (!badge) return;

      let count = 0;
      try {
        const raw = localStorage.getItem("photoCount");
        if (raw) {
          const parsed = parseInt(raw, 10);
          if (!Number.isNaN(parsed)) count = parsed;
        }
      } catch (e) {
        count = 0;
      }

      if (count > 0) {
        badge.textContent = "+" + count;
        badge.style.display = "flex";
      } else {
        badge.style.display = "none";
      }
    }

    document.addEventListener("DOMContentLoaded", updatePhotosBadgeFromStorage);

    function pulseFish() {
      if (!bettaCursor) return;
      bettaCursor.classList.add("excited");
      setTimeout(() => {
        bettaCursor.classList.remove("excited");
      }, 300);
    }

    lockScreen.addEventListener("click", () => {
      lockScreen.style.display = "none";
      passwordPage.style.display = "flex";
    });

    // ------- CLOCK (12-hour) + DATE -------

    const lockTimeEl = document.getElementById("lockTime");
    const lockAmPmEl = document.getElementById("lockAmPm");
    const lockDateEl = document.getElementById("lockDate");

    function updateClock() {
      const now = new Date();
      let hours = now.getHours();
      const minutes = now.getMinutes().toString().padStart(2, "0");
      const ampm = hours >= 12 ? "PM" : "AM";
      hours = hours % 12;
      if (hours === 0) hours = 12;
      lockTimeEl.textContent = `${hours}:${minutes}`;
      lockAmPmEl.textContent = ampm;
      lockDateEl.textContent = now.toLocaleDateString(undefined, {
        weekday: "long",
        month: "long",
        day: "numeric"
      });
    }
    updateClock();
    setInterval(updateClock, 1000);

    // ------- LOVE COUNTER LOGIC -------

    const yearsEl   = document.getElementById("years");
    const monthsEl  = document.getElementById("months");
    const daysEl    = document.getElementById("days");
    const hoursEl   = document.getElementById("hours");
    const minutesEl = document.getElementById("minutes");
    const secondsEl = document.getElementById("seconds");

    const startDate = new Date("2024-06-18T02:00:00-04:00");

    function updateLoveCounter() {
      let now = new Date();
      if (now < startDate) now = startDate;

      let years   = now.getFullYear() - startDate.getFullYear();
      let months  = now.getMonth()    - startDate.getMonth();
      let days    = now.getDate()     - startDate.getDate();
      let hours   = now.getHours()    - startDate.getHours();
      let minutes = now.getMinutes()  - startDate.getMinutes();
      let seconds = now.getSeconds()  - startDate.getSeconds();

      if (seconds < 0) {
        seconds += 60;
        minutes--;
      }
      if (minutes < 0) {
        minutes += 60;
        hours--;
      }
      if (hours < 0) {
        hours += 24;
        days--;
      }
      if (days < 0) {
        const prevMonth = new Date(now.getFullYear(), now.getMonth(), 0);
        days += prevMonth.getDate();
        months--;
      }
      if (months < 0) {
        months += 12;
        years--;
      }

      if (yearsEl)   yearsEl.textContent   = years;
      if (monthsEl)  monthsEl.textContent  = months;
      if (daysEl)    daysEl.textContent    = days;
      if (hoursEl)   hoursEl.textContent   = hours;
      if (minutesEl) minutesEl.textContent = minutes;
      if (secondsEl) secondsEl.textContent = seconds;
    }

    updateLoveCounter();
    setInterval(updateLoveCounter, 1000);

    // ------- SIMPLE VIRGO HOROSCOPE -------

    const horoscopeMain = document.getElementById("horoscopeMain");
    const horoscopeSub  = document.getElementById("horoscopeSub");
    const virgoMessages = [
      ["Pay attention to tiny details today.", "Your effort in the small things is what makes you shine."],
      ["Choose softness over stress.", "You don‚Äôt have to earn rest ‚Äî you already deserve it."],
      ["A tiny step forward still counts.", "Be as patient with yourself as you are with others."],
      ["Let yourself enjoy something silly today.", "Joy doesn‚Äôt have to be productive to be valid."],
      ["Speak up about how you feel.", "Your feelings are not ‚Äòtoo much‚Äô; they‚Äôre important data."],
      ["Let someone take care of you a little.", "You‚Äôre allowed to receive, not only give."],
      ["Reorganize your space, reorganize your mind.", "A tiny reset can change the whole vibe of the day."]
    ];
    const indexHor = new Date().getDate() % virgoMessages.length;
    horoscopeMain.textContent = "Virgo: " + virgoMessages[indexHor][0];
    horoscopeSub.textContent  = virgoMessages[indexHor][1];

    // ------- WEATHER (Open-Meteo) -------

    const weatherMain = document.getElementById("weatherMain");
    const weatherSub  = document.getElementById("weatherSub");
    const weatherNotification = document.getElementById("weatherNotification");
    const weatherNotifText = document.getElementById("weatherNotifText");
    const weatherNotifIcon = document.getElementById("weatherNotifIcon");

    function getWeatherAdvice(code, tempF) {
      const isCold = tempF <= 45;
      const isChilly = tempF > 45 && tempF <= 60;
      const isWarm = tempF > 60 && tempF <= 80;
      const isHot  = tempF > 80;

      const rainyCodes = [51,53,55,56,57,61,63,65,66,67,80,81,82];
      const snowyCodes = [71,73,75,77,85,86];
      const stormCodes = [95,96,99];
      const fogCodes   = [45,48];

      if (rainyCodes.includes(code)) return "It‚Äôs rainy ‚Äî bring an umbrella and something cozy, please ‚òî";
      if (snowyCodes.includes(code)) return "It‚Äôs snowy/icy ‚Äî bundle up in a warm coat and good shoes, please ‚ùÑÔ∏è";
      if (stormCodes.includes(code)) return "Stormy weather ‚Äî dress comfy and drive extra carefully ‚ö°";
      if (fogCodes.includes(code))   return "It‚Äôs foggy ‚Äî soft layers and something warm just in case üå´Ô∏è";

      if (isCold)   return "It‚Äôs cold today ‚Äî wear layers, a warm coat, and protect your little hands and ears üß£";
      if (isChilly) return "A little chilly ‚Äî a cute sweater or light jacket will be perfect today üß•";
      if (isWarm)   return "It‚Äôs going to be a beautiful day ‚Äî something light and comfy will be perfect üå§Ô∏è";
      if (isHot)    return "It‚Äôs hot today ‚Äî dress light, stay hydrated, and don‚Äôt overheat, please ‚òÄÔ∏è";

      return "Dress comfy and cozy in whatever makes you feel safe today ü§ç";
    }

    function pickWeatherIcon(code, tempF) {
      const rainyCodes = [51,53,55,56,57,61,63,65,66,67,80,81,82];
      const snowyCodes = [71,73,75,77,85,86];
      const stormCodes = [95,96,99];
      const fogCodes   = [45,48];

      if (rainyCodes.includes(code)) return "‚òî";
      if (snowyCodes.includes(code)) return "‚ùÑÔ∏è";
      if (stormCodes.includes(code)) return "‚õàÔ∏è";
      if (fogCodes.includes(code))   return "üå´Ô∏è";
      if (tempF > 80)                return "üåû";
      if (tempF <= 45)               return "üß£";
      return "üå§Ô∏è";
    }

    if ("geolocation" in navigator) {
      navigator.geolocation.getCurrentPosition(
        (pos) => {
          const { latitude, longitude } = pos.coords;
          fetch(`https://api.open-meteo.com/v1/forecast?latitude=${latitude}&longitude=${longitude}&current=temperature_2m,weather_code`)
            .then(res => res.json())
            .then(data => {
              if (data && data.current && typeof data.current.temperature_2m === "number") {
                const c = data.current.temperature_2m;
                const f = Math.round(c * 9/5 + 32);
                const code = data.current.weather_code;

                weatherMain.textContent = `${f}¬∞F near you`;
                weatherSub.textContent  = "Thanks for letting me check your sky ü•π";

                if (weatherNotification && weatherNotifText && weatherNotifIcon) {
                  weatherNotifText.textContent = getWeatherAdvice(code, f);
                  weatherNotifIcon.textContent = pickWeatherIcon(code, f);
                  weatherNotification.classList.add("show");
                }
              } else {
                weatherMain.textContent = "Weather unavailable";
                if (weatherNotification && weatherNotifText && weatherNotifIcon) {
                  weatherNotifText.textContent =
                    "Couldn‚Äôt load weather, but dress comfy and bring a light layer just in case ü§ç";
                  weatherNotifIcon.textContent = "üå•Ô∏è";
                  weatherNotification.classList.add("show");
                }
              }
            })
            .catch(() => {
              weatherMain.textContent = "Weather unavailable";
              if (weatherNotification && weatherNotifText && weatherNotifIcon) {
                weatherNotifText.textContent =
                  "Couldn‚Äôt load weather, but dress comfy and maybe keep a jacket nearby üå•Ô∏è";
                weatherNotifIcon.textContent = "üå•Ô∏è";
                weatherNotification.classList.add("show");
              }
            });
        },
        () => {
          weatherMain.textContent = "Location blocked";
          weatherSub.textContent  = "If you allow location, I‚Äôll show it here üíï";
          if (weatherNotification && weatherNotifText && weatherNotifIcon) {
            weatherNotifText.textContent =
              "Couldn‚Äôt check your exact weather, but a cute layered outfit is always safe üß•";
            weatherNotifIcon.textContent = "üå§Ô∏è";
            weatherNotification.classList.add("show");
          }
        }
      );
    } else {
      weatherMain.textContent = "No geolocation support";
      if (weatherNotification && weatherNotifText && weatherNotifIcon) {
        weatherNotifText.textContent =
          "I can‚Äôt check your weather, but dress in comfy layers just in case ü§ç";
        weatherNotifIcon.textContent = "üå•Ô∏è";
        weatherNotification.classList.add("show");
      }
    }

    // ------- PASSWORD LOGIC -------

    const PASSWORD = "0618";

    const pwInput  = document.getElementById("pwInput");
    const pwBtn    = document.getElementById("pwBtn");
    const pwError  = document.getElementById("pwError");

    pwBtn.addEventListener("click", () => {
      const value = pwInput.value.trim();
      if (value === PASSWORD) {
        passwordPage.style.display = "none";
        loveLetter.style.display = "flex";
        pwError.textContent = "";
      } else {
        pwError.textContent = "Wrong passcode, try again üòÖ";
      }
    });

    pwInput.addEventListener("keydown", (e) => {
      if (e.key === "Enter") {
        pwBtn.click();
      }
    });

    // ------- LOVE LETTER CONTINUE -------

    document.getElementById("continueBtn").addEventListener("click", () => {
      loveLetter.style.display = "none";
      surveyPage.style.display = "block";
      if (photosButton) photosButton.classList.add("visible");
      window.location.hash = "questions";
    });

    // ------- SLIDERS -------

    const hungerSlider = document.getElementById("hungerSlider");
    const hungerLabel  = document.getElementById("hungerLabel");
    const hungerHungryFollowup = document.getElementById("hungerHungryFollowup");

    function updateHungerUI() {
      const value = Number(hungerSlider.value);
      hungerLabel.textContent = value;

      if (value <= 3) {
        if (!hungerHungryFollowup.classList.contains("show")) pulseFish();
        hungerHungryFollowup.classList.add("show");
      } else {
        hungerHungryFollowup.classList.remove("show");
      }

      if (value >= 7) showCongratsOnce();
    }

    hungerSlider.addEventListener("input", updateHungerUI);
    updateHungerUI();

    const daySlider = document.getElementById("daySlider");
    const dayLabel  = document.getElementById("dayLabel");
    const dayBadFollowup  = document.getElementById("dayBadFollowup");
    const dayGoodFollowup = document.getElementById("dayGoodFollowup");

    function updateDayUI() {
      const value = Number(daySlider.value);
      dayLabel.textContent = value;

      if (value <= 3) {
        if (!dayBadFollowup.classList.contains("show")) pulseFish();
        dayBadFollowup.classList.add("show");
        dayGoodFollowup.classList.remove("show");
      } else if (value >= 7) {
        if (!dayGoodFollowup.classList.contains("show")) pulseFish();
        dayGoodFollowup.classList.add("show");
        dayBadFollowup.classList.remove("show");
      } else {
        dayBadFollowup.classList.remove("show");
        dayGoodFollowup.classList.remove("show");
      }
    }

    daySlider.addEventListener("input", updateDayUI);
    updateDayUI();

    const treatSlider = document.getElementById("treatSlider");
    const treatLabel = document.getElementById("treatLabel");
    const treatFollowup = document.getElementById("treatFollowup");

    function updateTreatUI() {
      const value = Number(treatSlider.value);
      treatLabel.textContent = value;

      if (value <= 9) {
        if (!treatFollowup.classList.contains("show")) pulseFish();
        treatFollowup.classList.add("show");
      } else {
        treatFollowup.classList.remove("show");
      }
    }

    treatSlider.addEventListener("input", updateTreatUI);
    updateTreatUI();

    // ------- CONFETTI -------

    const fullCongrats = document.getElementById("fullCongrats");
    const closeCongrats = document.getElementById("closeCongrats");
    let hasCelebrated = false;

    function showCongratsOnce() {
      if (hasCelebrated) return;
      hasCelebrated = true;
      fullCongrats.style.display = "flex";

      if (window.confetti) {
        confetti({
          particleCount: 160,
          spread: 70,
          origin: { y: 0.6 }
        });
      }
    }

    closeCongrats.addEventListener("click", () => {
      fullCongrats.style.display = "none";
    });

    // ------- BETTA FISH FOLLOWING CURSOR (with chase mode) -------

    let chaseMode = false;

    if (window.matchMedia && window.matchMedia("(pointer: coarse)").matches) {
      if (bettaCursor) bettaCursor.style.display = "none";
    } else if (bettaCursor) {
      let mouseX = window.innerWidth / 2;
      let mouseY = window.innerHeight / 2;
      let fishX = mouseX;
      let fishY = mouseY;

      const OFFSET_X = 32;
      const OFFSET_Y = -10;

      document.addEventListener("mousemove", (e) => {
        mouseX = e.clientX;
        mouseY = e.clientY;
      });

      function animateBetta() {
        if (!chaseMode) {
          const ease = 0.12;
          const dx = mouseX - fishX;
          const dy = mouseY - fishY;

          fishX += dx * ease;
          fishY += dy * ease;

          bettaCursor.style.left = (fishX + OFFSET_X) + "px";
          bettaCursor.style.top  = (fishY + OFFSET_Y) + "px";

          const facingRight = dx >= 0;
          const flip = facingRight ? -1 : 1;
          const wobble = Math.sin(Date.now() / 150) * 6;

          bettaCursor.style.transform = `scaleX(${flip}) rotate(${wobble}deg)`;
        }
        requestAnimationFrame(animateBetta);
      }

      animateBetta();
    }

    // ------- iMessage & Law Tips Notifications Fade/Slide In -------

    const iosNotification = document.getElementById("iosNotification");
    const lawTipsNotification = document.getElementById("lawTipsNotification");

    window.addEventListener("load", () => {
      if (iosNotification) {
        setTimeout(() => {
          iosNotification.classList.add("show");
        }, 1200);
      }
      if (lawTipsNotification) {
        setTimeout(() => {
          lawTipsNotification.classList.add("show");
        }, 1800);
      }
    });

    // ------- HANDLE #questions DIRECT NAV -------

    function handleHashNavigation() {
      if (window.location.hash === "#questions") {
        if (lockScreen)   lockScreen.style.display = "none";
        if (passwordPage) passwordPage.style.display = "none";
        if (loveLetter)   loveLetter.style.display = "none";
        if (surveyPage)   surveyPage.style.display = "block";
        if (photosButton) photosButton.classList.add("visible");
      }
    }

    document.addEventListener("DOMContentLoaded", handleHashNavigation);

    // ------- üêπ HAMSTER PET LOGIC (name + animations + chase betta) -------

    document.addEventListener("DOMContentLoaded", () => {
      const hamster = document.getElementById("hamster");
      const emote = document.getElementById("hamsterEmote");
      const moodSpan = document.getElementById("hamsterMood");
      const petCountSpan = document.getElementById("hamsterPetCount");
      const nameInput = document.getElementById("hamsterNameInput");
      const nameDisplay = document.getElementById("hamsterNameDisplay");

      if (!hamster || !emote || !moodSpan || !petCountSpan || !nameInput || !nameDisplay) return;

      const HAMSTER_KEY = "hamsterPetClicks";
      const NAME_KEY = "hamsterName";

      let petCount = parseInt(localStorage.getItem(HAMSTER_KEY) || "0", 10) || 0;
      let hamsterName = localStorage.getItem(NAME_KEY) || "";
      let sleepTimer;
      let chasePlaying = false;

      const ANIMATIONS = ["happy", "spin"];

      if (hamsterName) {
        nameInput.value = hamsterName;
        nameDisplay.textContent = hamsterName;
      } else {
        nameDisplay.textContent = "your hamster";
      }

      function clearAnimClasses() {
        hamster.classList.remove("idle", "happy", "spin", "sleep", "run");
      }

      function setMood(text) {
        moodSpan.textContent = text;
      }

      function updatePetCountDisplay() {
        petCountSpan.textContent = petCount;
      }

      function showEmote(symbol) {
        emote.textContent = symbol;
        emote.classList.remove("show");
        void emote.offsetWidth;
        emote.classList.add("show");
        setTimeout(() => { emote.classList.remove("show"); }, 650);
      }

      function goIdle() {
        clearAnimClasses();
        hamster.classList.add("idle");
        setMood(hamsterName ? `${hamsterName} is chilling` : "Chilling");
      }

      function goSleep() {
        clearAnimClasses();
        hamster.classList.add("sleep");
        setMood(hamsterName ? `${hamsterName} fell asleep...` : "Sleeping...");
        showEmote("üí§");
      }

      function resetSleepTimer() {
        clearTimeout(sleepTimer);
        sleepTimer = setTimeout(goSleep, 15000);
      }

      function triggerAnimation(type) {
        clearAnimClasses();
        hamster.classList.add(type);

        if (type === "happy") {
          setMood(hamsterName ? `${hamsterName} is so happy!` : "So happy!");
          showEmote("‚ô°");
        } else if (type === "spin") {
          setMood(hamsterName ? `${hamsterName} is showing off!` : "Showing off!");
          showEmote("‚≠ê");
        }

        if (type === "happy" || type === "spin") {
          hamster.addEventListener(
            "animationend",
            function handler() {
              hamster.removeEventListener("animationend", handler);
              if (!chasePlaying) goIdle();
            }
          );
        }
      }

      function playChaseScene() {
        if (!bettaCursor || chasePlaying) {
          if (!bettaCursor) {
            triggerAnimation("happy");
          }
          return;
        }

        chasePlaying = true;
        chaseMode = true;
        clearAnimClasses();
        hamster.classList.add("run");
        setMood(
          hamsterName
            ? `${hamsterName} is chasing the betta!`
            : "Chasing the betta!"
        );
        showEmote("üèÉ");

        const windowW = window.innerWidth;
        const windowH = window.innerHeight;
        const targetX = windowW / 2 + 80;
        const targetY = windowH - 140;

        bettaCursor.style.left = targetX + "px";
        bettaCursor.style.top = targetY + "px";
        bettaCursor.style.transform = "scaleX(-1) rotate(0deg)";

        setTimeout(() => {
          hamster.classList.remove("run");

          const rect = hamster.getBoundingClientRect();
          const fishX = rect.left + rect.width / 2 - 30;
          const fishY = rect.top - 10;

          bettaCursor.style.left = fishX + "px";
          bettaCursor.style.top = fishY + "px";
          bettaCursor.style.transform = "scaleX(-1) rotate(0deg)";

          setMood(
            hamsterName
              ? `${hamsterName} caught the betta and is hugging him ü•π`
              : "Caught the betta and hugging him ü•π"
          );
          showEmote("ü§ç");

          setTimeout(() => {
            setMood("Besties with the betta üêπüíñüêü");
            showEmote("ü•∞");
            chaseMode = false;
            chasePlaying = false;
            resetSleepTimer();
            goIdle();
          }, 1200);
        }, 900);
      }

      // Click = pet
      hamster.addEventListener("click", () => {
        petCount++;
        localStorage.setItem(HAMSTER_KEY, petCount.toString());
        updatePetCountDisplay();

        const choice = ANIMATIONS[Math.floor(Math.random() * ANIMATIONS.length)];
        triggerAnimation(choice);
        resetSleepTimer();
      });

      // Double click = chase betta & hug
      hamster.addEventListener("dblclick", (e) => {
        e.preventDefault();
        playChaseScene();
        resetSleepTimer();
      });

      // Drag & drop food / water
      document.querySelectorAll(".hamster-item").forEach((item) => {
        item.addEventListener("dragstart", (e) => {
          e.dataTransfer.setData("itemType", item.dataset.item || "");
        });
      });

      hamster.addEventListener("dragover", (e) => {
        e.preventDefault();
      });

      hamster.addEventListener("drop", (e) => {
        e.preventDefault();
        const itemType = e.dataTransfer.getData("itemType");
        if (!itemType) return;

        if (itemType === "food") {
          setMood(
            hamsterName
              ? `${hamsterName} says: yummy!`
              : "Yummy!"
          );
          showEmote("üçì");
        } else if (itemType === "water") {
          setMood(
            hamsterName
              ? `${hamsterName} feels hydrated üíß`
              : "Hydrated!"
          );
          showEmote("üíß");
        }
        resetSleepTimer();
      });

      // Wake up on hover
      hamster.addEventListener("mouseenter", () => {
        if (hamster.classList.contains("sleep")) {
          goIdle();
        }
        resetSleepTimer();
      });

      // Name input logic (saved to localStorage)
      nameInput.addEventListener("input", () => {
        hamsterName = nameInput.value.trim();
        localStorage.setItem(NAME_KEY, hamsterName);
        nameDisplay.textContent = hamsterName || "your hamster";
        goIdle();
      });

      // Init
      updatePetCountDisplay();
      goIdle();
      resetSleepTimer();
    });
  </script>
</body>
</html>
